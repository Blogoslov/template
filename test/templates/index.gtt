[% WRAPPER page(caption string) %]
    <!DOCTYPE html>
    <html>
    <head>
        <title>[% caption | HTML %]</title>
    </head>
    <body>
        [% <CONTENT> %]
    </<body>
    </html>
[% END %]

[% TEMPLATE Test(header string, users []User) USE WRAPPER page(header) %]
    <h1>[% header | HTML %]</h1>
    <hr>
    [% FOR user IN users %]
        <p>
            [% PROCESS UserName(user) %]:
            [% user.Age %] ([% IF user.IsMan %]Man[% ELSE %]Woman[% END %])
        </p>
    [% END %]
[% END %]

[% TEMPLATE UserName(user User) %]
    [% user.Name | HTML +%] [% user.Lastname | HTML %]
[% END %]

[% TEMPLATE TestExprSyntax(i int, b bool, s string) %]
    [% IF i > 0 OR i < 100 AND !b || i <= 200 && i >= 150 || !(i == 0 && !b) %]
        [% len(s) %]
        [% +%]   spaces  [%+ %]
        [% %]   rspaces  [%+ %]
        [% +%]   lspaces  [% %]
    [% END %]

    [% s[10] %]
[% END %]